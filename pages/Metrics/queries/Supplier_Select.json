{
  "pluginType": "DB",
  "pluginId": "mysql-plugin",
  "unpublishedAction": {
    "name": "Supplier_Select",
    "datasource": {
      "name": "Log Base",
      "pluginId": "mysql-plugin",
      "messages": [],
      "isAutoGenerated": false,
      "id": "Log Base",
      "deleted": false,
      "policies": [],
      "userPermissions": []
    },
    "pageId": "Metrics",
    "actionConfiguration": {
      "timeoutInMillisecond": 10000,
      "paginationType": "NONE",
      "encodeParamsToggle": true,
      "body": " SELECT Supplier,\n        SUM(GMT) as Tonnes,\n        SUM(Rejected) as RejectJAS,\n        SUM(Received) as ReceivedJAS,\n        SUM(Total_Jas) as JAS,\n        SUM(Pieces) as TotalLogs,\n\t\t\t\t(SUM(Total_Jas) / SUM(GMT)) as CVR,\n\t\t\t\tCOUNT(Docket) as Loads,\n\t\t\t\tMONTHNAME(Date) AS Month,\n\t\t\t\tEXTRACT(MONTH FROM Date) AS M,\n\t\t\t\tEXTRACT(YEAR FROM Date) AS Year\n FROM\n        (SELECT Docket,\n                Supplier,\n                GMT,\n\t\t\t\t \t\t\t\tDate,\n                Rejected,\n                Received,\n                Total_Jas,\n                Pieces\n        FROM (SELECT Docket, \n                    Supplier,\n                    GMT,\n\t\t\t\t\t\t\t\t\t\tDate\n            FROM WeighBridge) W\n        JOIN\n            (SELECT  Doc, \n                IFNULL(p + rejects,p) as Pieces, \n                IFNULL(rejectjas,0) as Rejected, \n                Received, \n                IFNULL(rejectjas + Received, Received) as Total_Jas\n            FROM\n                (SELECT Docket as Doc, \n                    COUNT(Docket) as p, \n                    SUM(JAS) as Received\n                    FROM Scaling GROUP BY Docket) v\n            LEFT JOIN\n                (SELECT Docket as D, \n                    COUNT(Docket) as rejects, \n                    SUM(JAS) as rejectjas  \n                    FROM Reject_Scaling GROUP BY Docket) r\n            ON r.D = v.Doc) S\n        ON W.Docket = S.Doc) T GROUP BY Supplier, M, Month, Year ORDER BY Year DESC, M DESC, Supplier;",
      "selfReferencingDataPaths": [],
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ]
    },
    "executeOnLoad": true,
    "dynamicBindingPathList": [],
    "isValid": true,
    "invalids": [],
    "messages": [],
    "jsonPathKeys": [],
    "userSetOnLoad": false,
    "confirmBeforeExecute": false,
    "policies": [],
    "userPermissions": []
  },
  "id": "Metrics_Supplier_Select",
  "deleted": false,
  "gitSyncId": "62c64eab5a06d81bded2fac9_62f3414f624e841f0cc17f11"
}